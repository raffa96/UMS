<form *ngIf="user" #f="ngForm">
  <div class="form-group">
    <input
      type="hidden"
      id="id"
      name="id"
      class="form-control"
      [(ngModel)]="user.id"
    />
  </div>

  <div class="form-row">
    <div class="form-group col-sm-12 col-md-6">
      <label for="name">Nome</label>
      <input
        type="text"
        id="name"
        name="name"
        class="form-control"
        #firstName="ngModel"
        [(ngModel)]="user.name"
        pattern="[a-zA-Z\s]*"
        minlength="4"
        maxlength="32"
        required
      />

      <div *ngIf="firstName.invalid" class="my-2">
        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="firstName?.errors.required"
        >
          Il campo nome è obbligatorio!
        </div>

        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="firstName?.errors.minlength"
        >
          La lunghezza minima del campo nome è di
          {{ firstName?.errors.minlength.requiredLength }} caratteri!
        </div>

        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="firstName?.errors.pattern"
        >
          Il nome inserito non corrisponde ai criteri di un nome valido!
        </div>
      </div>
    </div>

    <div class="form-group col-sm-12 col-md-6">
      <label for="surname">Cognome</label>
      <input
        type="text"
        id="surname"
        name="surname"
        class="form-control"
        #lastName="ngModel"
        [(ngModel)]="user.surname"
        pattern="[a-zA-Z\s]*"
        minlength="4"
        maxlength="32"
        required
      />

      <div *ngIf="lastName.invalid" class="my-2">
        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="lastName?.errors.required"
        >
          Il campo cognome è obbligatorio!
        </div>

        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="lastName?.errors.minlength"
        >
          La lunghezza minima del campo cognome è di
          {{ lastName?.errors.minlength.requiredLength }} caratteri!
        </div>

        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="lastName?.errors.pattern"
        >
          Il cognome inserito non corrisponde ai criteri di un cognome valido!
        </div>
      </div>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-sm-12 col-md-6">
      <label for="age">Età</label>
      <input
        type="number"
        id="age"
        name="age"
        class="form-control"
        #age="ngModel"
        [(ngModel)]="user.age"
        pattern="[0-9]{2,3}"
        minlength="2"
        maxlength="3"
        required
      />

      <div *ngIf="age.invalid" class="my-2">
        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="age?.errors.required"
        >
          Il campo età è obbligatorio!
        </div>

        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="age?.errors.minlength"
        >
          La lunghezza minima del campo età è di
          {{ age?.errors.minlength.requiredLength }} numeri!
        </div>

        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="age?.errors.pattern"
        >
          L'età inserita non corrisponde ai criteri di un'età valida!
        </div>
      </div>
    </div>

    <div class="form-group col-sm-12 col-md-6">
      <label for="fc">Codice Fiscale</label>
      <input
        type="text"
        id="fc"
        name="fc"
        class="form-control"
        #fc="ngModel"
        [(ngModel)]="user.fc"
        minlength="11"
        maxlength="16"
        required
      />

      <div *ngIf="fc.invalid" class="my-2">
        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="fc?.errors.required"
        >
          Il campo codice fiscale è obbligatorio!
        </div>

        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="fc?.errors.minlength"
        >
          La lunghezza minima del campo codice fiscale è di
          {{ fc?.errors.minlength.requiredLength }} caratteri!
        </div>
      </div>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-sm-12 col-md-6">
      <label for="email">Email</label>
      <input
        type="text"
        id="email"
        name="email"
        class="form-control"
        [(ngModel)]="user.email"
        minlength="8"
        maxlength="32"
        required
      />
    </div>

    <div class="form-group col-sm-12 col-md-6">
      <label for="phone">Telefono</label>
      <input
        type="text"
        id="phone"
        name="phone"
        class="form-control"
        [(ngModel)]="user.phone"
        minlength="10"
        maxlength="32"
        required
      />
    </div>
  </div>

  <div class="form-group">
    <label for="province">Provincia</label>
    <input
      type="text"
      id="province"
      name="province"
      class="form-control"
      [(ngModel)]="user.province"
      minlength="5"
      maxlength="32"
      required
    />
  </div>

  <div class="form-group text-center my-5">
    <button
      type="submit"
      class="btn btn-success mx-1"
      [disabled]="f.invalid"
      (click)="modifyUser()"
    >
      Modifica
    </button>

    <button type="submit" class="btn btn-danger mx-1" (click)="resetForm()">
      Cancella
    </button>

    <button type="button" class="btn btn-primary mx-1" (click)="backToHome()">
      Torna alla Homepage <fa name="home" size="lg" class="mx-2"></fa>
    </button>
  </div>
</form>
